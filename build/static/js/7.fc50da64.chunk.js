(this.webpackJsonpfamous_wall_web=this.webpackJsonpfamous_wall_web||[]).push([[7,9],{120:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l}));var a=n(33),o=n.n(a),c=function(e){return new Promise((function(t,n){var a={params:e};o.a.get("profile",a).then((function(e){e&&e.data?t(e.data):n(Error("no user data"))})).catch((function(e){n(e)}))}))},r=function(e){return new Promise((function(t,n){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.get("profile").then((function(e){e&&e.data?t(e.data):n(Error("no user data"))})).catch((function(e){console.error(e),n(e)}))}))},i=function(e,t){return new Promise((function(n,a){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.post("profile",t).then((function(e){n("success")})).catch((function(e){a(e)}))}))},l=function(e,t){return new Promise((function(n,a){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.patch("profile",t).then((function(e){n("success")})).catch((function(e){a(e)}))}))}},121:function(e,t,n){e.exports=n.p+"static/media/unicoon.d0d24013.png"},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return s}));var a=n(33),o=n.n(a),c=(n(15),function(e,t){return function(n){n({type:"LOAD_NEW_POSTS_PENDING"}),t&&(o.a.defaults.headers.common.Authorization="Bearer ".concat(t));var a={params:{nextKey:e,limit:20}};o.a.get("famousPost",a).then((function(e){if(e&&e.data){n({type:"LOAD_NEW_POSTS_SUCCESS"});var t=e.data;if(t.length>0){var a=t[t.length-1].postId;n({type:"LOADED_NEW_POSTS",payload:t}),n({type:"UPDATE_LAST_ITEM",payload:a})}else n({type:"NO_MORE_ITEM"})}else n({type:"LOAD_NEW_POSTS_FAILURE"})})).catch((function(e){n({type:"LOAD_NEW_POSTS_FAILURE"}),console.log(e)}))}}),r=function(e,t,n,a){return function(c){c({type:"POST_LIKE_SUCCESS",payload:{postId:e,pos:n}}),o.a.defaults.headers.common.Authorization="Bearer ".concat(a);var r={postId:e,increment:t};o.a.post("setPostLikeSql",r).then((function(t){t&&t.data||c({type:"POST_LIKE_FAILED",payload:{postId:e,pos:n}})})).catch((function(t){console.log("error ".concat(t," ").concat(JSON.stringify(t.response))),c({type:"POST_LIKE_FAILED",payload:{postId:e,pos:n}})}))}},i=function(e){return new Promise((function(t,n){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.get("receivedRequest").then((function(e){e&&e.data?t(e.data):n("no data")})).catch((function(e){console.log(e),n(e)}))}))},l=function(e){return new Promise((function(t,n){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.get("sendRequest").then((function(e){e&&e.data?t(e.data):n("no data")})).catch((function(e){console.log(e),n(e)}))}))},u=function(e,t){return new Promise((function(n,a){o.a.defaults.headers.common.Authorization="Bearer ".concat(e),o.a.post("sendRequest",t).then((function(e){n("success")})).catch((function(e){a(e)}))}))},s=function(e,t){return new Promise((function(n,a){o.a.defaults.headers.common.Authorization="Bearer ".concat(e);var c={data:t};o.a.delete("sendRequest",c).then((function(e){n("success")})).catch((function(e){a(e)}))}))}},126:function(e,t,n){"use strict";n.r(t);var a=n(18),o=n(0),c=n.n(o),r=n(41),i=n(208),l=n(192),u=n(184),s=n(185),f=n(194),m=n(152),d=n(12),h=n(15),p=n(121),E=n.n(p),g=n(42),b=n(120);t.default=function(e){var t=Object(o.useState)(""),n=Object(a.a)(t,2),p=n[0],O=n[1],v=Object(o.useState)(!1),S=Object(a.a)(v,2),y=S[0],j=S[1],N=Object(r.c)((function(e){return{loginStatus:e.login.loginStatus}})).loginStatus,P=Object(r.b)();Object(o.useEffect)((function(){N===d.c?j(!0):N===d.d?(j(!1),e.closeLogin()):N===d.a&&j(!1)}),[N]);var I=function(t){t.getIdToken().then((function(n){var a=t.email,o=t.photoURL;!function(t,n){j(!0),Object(b.a)(t,n).then((function(){j(!1),e.closeLogin()})).catch((function(e){console.error(e),j(!1)}))}(n,{name:t.displayName,dp:o,email:a,profileId:Object(d.f)(a)})})).catch((function(e){console.log(e),h.a.auth().signOut().then((function(){})).catch((function(e){console.log(e)}))}))};return c.a.createElement(i.a,{isOpen:!0,toggle:function(){e.closeLogin()},className:"modal-lg"},c.a.createElement(l.a,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement(u.a,{md:"8",className:"text-center justify-content-center align-self-center offset-md-2"},c.a.createElement(s.a,{className:"pt-2 pb-2"},c.a.createElement("img",{src:E.a,className:"mx-auto",alt:"Famous wall",style:{height:"180px",width:"180px"}}),c.a.createElement("div",{className:"text-center mt-4"},c.a.createElement(f.a,{name:"email",type:"email",onChange:function(e){O(e.target.value)},value:p,id:"email",placeholder:"Enter your Email",required:!0,style:{width:"85%"},className:"mx-auto"}),c.a.createElement(m.a,{className:"mx-auto mt-2",style:{width:"200px"},color:"primary",type:"submit",onClick:function(){if(p){var e={url:"".concat(window.location.href,"/").concat(p),handleCodeInApp:!0};h.a.auth().sendSignInLinkToEmail(p,e).then((function(){})).catch((function(e){console.log("erroe send email",e)}))}else console.log("no eamil")}},"Send me a login link"),c.a.createElement("p",{className:"font-weight-bold mt-6"},"OR"),c.a.createElement(m.a,{className:"mx-auto mt-2",style:{width:"200px"},color:"primary",type:"submit",onClick:function(){var e=new h.a.auth.GoogleAuthProvider;P({type:"LOGIN_PENDING"}),h.a.auth().signInWithPopup(e).then((function(e){var t=e.user;I(t)})).catch((function(e){console.log(e)}))}},"Login using Google")))),y&&c.a.createElement(g.a,null))))}},183:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var a=n(18),o=n(0),c=n.n(o),r=n(6),i=n(184),l=n(185),u=n(186),s=n(193),f=n(152),m=n(187),d=n(41),h=n(204),p=n(205),E=n(206),g=n(144),b=n(180),O=n.n(b),v=n(181),S=n.n(v),y=n(182),j=n(119),N=n.n(j),P=n(120),I=n(24),_=n(12),w=(n(183),n(125)),B=n(126);t.default=function(){var e=Object(o.useContext)(I.a).currentUser,t=(Object(d.b)(),S.a.sanitize),n=Object(r.h)().pathname.split("/")[2],b=Object(o.useState)(!1),v=Object(a.a)(b,2),j=v[0],A=v[1],L=Object(o.useState)(!1),T=Object(a.a)(L,2),x=T[0],k=T[1],D=Object(o.useState)(!1),C=Object(a.a)(D,2),R=C[0],z=C[1],F=Object(o.useState)(!1),q=Object(a.a)(F,2),V=q[0],M=q[1],U=Object(o.useState)({}),W=Object(a.a)(U,2),G=W[0],K=W[1],Y=Object(d.c)((function(e){return{selfProfile:e.selfProfile.selfProfile}})).selfProfile,H={userBio:O.a.createEmptyValue()},J=Object(y.a)({initialValues:H}),Q=J.values,X=(J.errors,J.setValue);J.inputProps;Object(o.useEffect)((function(){Y.userBio&&X("userBio",O.a.createValueFromString(Y.userBio,"html")),K(Y)}),[Y]);Object(o.useEffect)((function(){n?function(){var e={profileId:n};Object(P.b)(e).then((function(e){e.userBio&&X("userBio",O.a.createValueFromString(Y.userBio,"html")),K(e)})).catch((function(e){console.error(e)}))}():e.getIdToken().then((function(e){Object(P.c)(e).then((function(e){e.userBio&&X("userBio",O.a.createValueFromString(Y.userBio,"html")),K(e)})).catch((function(e){console.error(e)}))}))}),[]);var Z=function(t){z(!0),Object(_.i)(t,_.b).then((function(t){!function(t){var n=G;n.userDp=t,e.getIdToken().then((function(e){Object(P.d)(e,n).then((function(e){K(n),z(!1)})).catch((function(e){console.error(e),z(!1)}))}))}(t)})).catch((function(e){console.error(e),z(!1),Object(_.h)("Oops! Something went wrong","danger","Error")}))};return c.a.createElement("div",null,c.a.createElement(i.a,{className:"mx-auto",md:5},c.a.createElement(l.a,null,c.a.createElement(u.a,null,c.a.createElement("div",null,c.a.createElement("div",{style:{position:"relative"}},c.a.createElement("img",{src:G.userDp,alt:G.userName,style:{width:"144px",height:"144px",borderRadius:"50%"}}),R&&c.a.createElement("div",{className:"overlay"},c.a.createElement(s.a,null))),G.selfProfile&&c.a.createElement("div",{style:{left:"55%",bottom:"25%",position:"absolute"}},c.a.createElement(g.a,{accept:"image/*",onDrop:function(e){console.log(e),Z(e[0])}},(function(e){var t=e.getRootProps,n=e.getInputProps;return c.a.createElement("section",null,c.a.createElement("div",t(),c.a.createElement("input",n()),c.a.createElement(h.a,{style:{width:"24px",height:"24px",cursor:"pointer"}})))})))),c.a.createElement("div",null,c.a.createElement("p",null,G.userName),!G.selfProfile&&c.a.createElement(f.a,{onClick:function(){k(!0);var t=N()().utc().format("YYYY-MM-DD HH:mm:ss"),n={inviteeId:G.userId,callTime:t,status:0};e?e.getIdToken().then((function(e){Object(w.f)(e,n).then((function(e){k(!1),Object(_.h)("Sent the request successfully","success"),console.log("video call req ".concat(e))})).catch((function(e){k(!1),Object(_.h)("Oops! something went wrong. Try again","danger"),console.log(e)}))})).catch((function(e){console.log(e)})):(k(!1),A(!0))}},"Request Call")))),c.a.createElement(l.a,{className:"mt-2"},c.a.createElement(u.a,null,c.a.createElement(m.a,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"col float-left"},c.a.createElement("p",{className:"float-left font-weight-bold"},"About Me")),c.a.createElement("div",{className:"col float-left"},V?c.a.createElement("div",null,c.a.createElement(O.a,{value:Q.userBio,onChange:function(e){X("userBio",O.a.createValueFromString(e,"html"))}}),c.a.createElement("div",{className:"float-right"},c.a.createElement("button",{onClick:function(){if(Q.userBio.toString("html")){var t=G;t.userBio=Q.userBio.toString("html"),e.getIdToken().then((function(e){Object(P.d)(e,t).then((function(e){K(t)})).catch((function(e){console.error(e)}))}))}},className:"btn btn-primary btn-sm mt-1 mr-1 mb-2"},c.a.createElement(p.a,null)),c.a.createElement("button",{onClick:function(){X("userBio",O.a.createValueFromString(Y.userBio,"html")),M(!1)},className:"btn btn-danger btn-sm mb-2 mt-1"},c.a.createElement(E.a,null)))):c.a.createElement("p",{className:"float-left",dangerouslySetInnerHTML:{__html:t(G.userBio)}}))),G.selfProfile&&c.a.createElement(h.a,{onClick:function(){return M(!0)}})))),x&&c.a.createElement(s.a,{style:{position:"absolute"}}),j&&c.a.createElement(B.default,{closeLogin:function(){return A(!1)}})))}}}]);
//# sourceMappingURL=7.fc50da64.chunk.js.map