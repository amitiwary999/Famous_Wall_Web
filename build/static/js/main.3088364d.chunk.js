(this.webpackJsonpfamous_wall_web=this.webpackJsonpfamous_wall_web||[]).push([[2],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(17),r=a.n(o),i=(a(70),a(71),a(34)),s=a(6),l=a(33),u=a.n(l),f=a(28),d=a.n(f),m=(a(89),a(24)),p=a(18),b=a(113),O=a(114),E=a(115),h=a(116),v=a(117),g=a(118),j=a(15),S=function(){var e=Object(n.useContext)(m.a).currentUser,t=Object(s.g)(),a=Object(n.useState)(!1),o=Object(p.a)(a,2),r=o[0],i=o[1];return c.a.createElement(b.a,{className:"bg-dark navbar-dark sticky-top",expand:"md"},c.a.createElement(O.a,{onClick:function(){return i(!r)}}),c.a.createElement(E.a,{isOpen:r,navbar:!0},c.a.createElement(h.a,{className:"mr-auto",navbar:!0},c.a.createElement(v.a,null,c.a.createElement(g.a,{href:"/"},"Home")),c.a.createElement(v.a,{style:{display:e?"block":"none"}},c.a.createElement(g.a,{style:{display:e?"block":"none",cursor:"pointer"},onClick:function(){t.replace("/profile")}},"Profile")),c.a.createElement(v.a,null,c.a.createElement(g.a,{style:{display:e?"block":"none",cursor:"pointer"},onClick:function(){j.a.auth().signOut().then((function(){console.log("logout successfully")})).catch((function(e){console.error("logout failed ".concat(e))}))}},"Logout")))))},_=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(6)]).then(a.bind(null,207))})),I=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,126))})),L=Object(n.lazy)((function(){return a.e(10).then(a.bind(null,209))})),y=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(8),a.e(7)]).then(a.bind(null,203))}));var P=function(){u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.baseURL="https://fwalls-dot-expinf.appspot.com/";var e=[{pageLink:"/",view:_},{pageLink:"/login",view:I,displayName:"Home"},{pageLink:"/videocall",view:L,displayName:"VideoCall"},{pageLink:"/profile/:id",view:y,displayName:"Profile"},{pageLink:"/profile",view:y,displayName:"Profile"}];return c.a.createElement(m.b,null,c.a.createElement("div",{className:"App"},c.a.createElement(d.a,null),c.a.createElement(n.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(i.a,null,c.a.createElement(s.b,{render:function(t){var a=t.location;return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement(s.d,{location:a},e.map((function(e,t){return c.a.createElement(s.b,{exact:!0,path:e.pageLink,render:function(t){t.match;return c.a.createElement(e.view,null)},key:t})})),c.a.createElement(s.a,{to:"/"})))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=a(41),k=a(14),N=a(60),C=a.n(N),D=a(61),T=a(22),A=a(3),F=a(12),U={famousPosts:[],lastItemId:"",hasMoreItems:!0,loadItemStatus:""},x={loginStatus:""},R={selfProfile:{},profileFetchStatus:""},M=Object(k.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOADED_NEW_POSTS":return console.log("fm payload ".concat(n.length)),Object(A.a)(Object(A.a)({},e),{},{hasMoreItems:!0,famousPosts:e.famousPosts.concat(n)});case"UPDATE_LAST_ITEM":return Object(A.a)(Object(A.a)({},e),{},{lastItemId:n});case"NO_MORE_ITEM":return Object(A.a)(Object(A.a)({},e),{},{hasMoreItems:!1});case"LOAD_NEW_POSTS_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loadItemStatus:F.d});case"LOAD_NEW_POSTS_FAILURE":return Object(A.a)(Object(A.a)({},e),{},{loadItemStatus:F.a});case"LOAD_NEW_POSTS_PENDING":return Object(A.a)(Object(A.a)({},e),{},{loadItemStatus:F.c});case"POST_LIKE_FAILED":var c=n.pos,o=n.postId,r=e.famousPosts[c];if(r&&o&&r.creatorId===o){r.isLiked=0;var i=[].concat(Object(T.a)(e.famousPosts.slice(0,c)),[r],Object(T.a)(e.famousPosts.slice(c+1)));return Object(A.a)(Object(A.a)({},e),{},{famousPosts:i})}return e;case"POST_LIKE_SUCCESS":var s=n.pos,l=n.postId,u=e.famousPosts[s];if(u&&l&&u.postId===l){u.isLiked=0===u.isLiked?1:0;var f=[].concat(Object(T.a)(e.famousPosts.slice(0,s)),[u],Object(T.a)(e.famousPosts.slice(s+1)));return Object(A.a)(Object(A.a)({},e),{},{famousPosts:f})}return e;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type;t.payload;switch(a){case"LOGIN_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loginStatus:F.a});case"LOGIN_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loginStatus:F.d});case"LOGIN_PENDING":return Object(A.a)(Object(A.a)({},e),{},{loginStatus:F.c});default:return e}},selfProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_SELF_PROFILE_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{selfProfile:n,profileFetchStatus:F.d});case"FETCH_SELF_PROFILE_FAILED":return Object(A.a)(Object(A.a)({},e),{},{profileFetchStatus:F.a});default:return e}}}),G=a(62),z=[D.a,C()()];Object(G.createLogger)({});var H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.d,W=Object(k.e)(M,{},H(k.a.apply(void 0,z)));r.a.render(c.a.createElement(w.a,{store:W},c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},12:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return f})),a.d(t,"i",(function(){return d})),a.d(t,"f",(function(){return m}));var n=a(28),c=a(15),o="image",r="video",i="pending",s="success",l="failure",u=function(e){for(var t=0,a=e.length,n=0;n<a;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.store.addNotification({title:a||("success"==t?"Awesome":"Error"),message:e,type:t,insert:"bottom",container:"bottom-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3}})},d=function(e,t){return new Promise((function(a,n){var o=(new Date).getTime();console.log(e);var r=c.a.storage();r.ref("".concat(t,"/").concat(o+e.name)).put(e).on("state_changed",(function(e){}),(function(e){n(e)}),(function(){r.ref(t).child(o+e.name).getDownloadURL().then((function(e){a(e)})).catch((function(e){n(e)}))}))}))},m=function(e){return e.toLowerCase().split("@")[0]+(new Date).getTime()}},15:function(e,t,a){"use strict";var n=a(37),c=a.n(n);a(90),a(111),a(92),a(95);c.a.initializeApp({apiKey:"AIzaSyCR5IyeN4-C3OLtwf-GxkabJp_0eeh9Ris",authDomain:"expinf.firebaseapp.com",databaseURL:"https://expinf.firebaseio.com",projectId:"expinf",storageBucket:"expinf.appspot.com",messagingSenderId:"538184241590",appId:"1:538184241590:web:e2971c7c9c90c8276c3117",measurementId:"G-0KH5XHEJMD"}),t.a=c.a},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(18),c=a(0),o=a.n(c),r=a(15),i=a(42),s=Object(c.createContext)(),l=function(e){var t=e.children,a=Object(c.useState)(null),l=Object(n.a)(a,2),u=l[0],f=l[1],d=Object(c.useState)(!0),m=Object(n.a)(d,2),p=m[0],b=m[1];return Object(c.useEffect)((function(){console.log("auth pr "),r.a.auth().onAuthStateChanged((function(e){console.log("user ".concat(e)),f(e),b(!1)}))}),[]),p?o.a.createElement(i.a,null):o.a.createElement(s.Provider,{value:{currentUser:u}},t)}},42:function(e,t,a){"use strict";var n=a(57),c=a(58),o=a(64),r=a(63),i=a(0),s=a.n(i),l=(a(97),function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"fallback-spinner"},s.a.createElement("div",{className:"loading component-loader"},s.a.createElement("div",{className:"effect-1 effects"}),s.a.createElement("div",{className:"effect-2 effects"}),s.a.createElement("div",{className:"effect-3 effects"})))}}]),a}(s.a.Component));t.a=l},65:function(e,t,a){e.exports=a(110)},70:function(e,t,a){},71:function(e,t,a){},97:function(e,t,a){}},[[65,3,4]]]);
//# sourceMappingURL=main.3088364d.chunk.js.map